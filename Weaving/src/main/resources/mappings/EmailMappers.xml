<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="EmailDAO">


<insert id="insertEmail" parameterType="com.weaving.biz.email.EmailVO" >
insert into email(
					email_id,
					from_email,
					to_email,
					subject,
					email_contents,
					check_time,
					read_check
)
values(
#{emailId},
#{fromEmail},
#{toEmail},
#{subject},
#{emailContents},
to_date(#{checkTime},'yyyy-mm-dd hh24:mi:ss'),
#{readCheck}
)

</insert>

<!-- 읽은 메일 갯수 체크 -->
<select id="mailReadCheck" parameterType="int" resultType="int">
		select count(decode(read_check,'0','1'))
		from email
		where emp_no = #{empNo}
</select>


<delete id="deleteMails_S">
		<![CDATA[
			DELETE FROM Email WHERE email_id = #{email_id}
			]]>
	</delete>
</mapper>